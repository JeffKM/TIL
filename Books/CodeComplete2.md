# Code Complete 2
 
### 서문

* 프로젝트 관리와 요구사항, 설계, 테스트 방법을 분석하고 토론하는 데에 시간을 투자하게 되면서 코드 구현은 관심에서 멀어졌다. 그러나, 코드 구현이 소프트웨어 개발 활동에서 비중이 제일 크고 반드시 필요하며 제일 중요하다.

## 1부 : 기초 확립

### 1장 : 소프트웨어 구현으로의 초대

* 코드 구현(작성)의 단계 : 문제 정의, 요구사항 개발, 구현 계획 수립, 소프트웨어 아키텍쳐 또는 고급 수준 설계, 상세 설계, 코드 작성 및 디버깅, 단위 테스트, 통합 테스트, 통합, 시스템 테스트, 유지보수


### 2장 : 소프트웨어 개발의 이해를 돕기 위한 비유

* 문제를 해결하는 방법에는 2가지가 있다. 알고리즘과 발견적 학습. 두 방법에 차이는 해결책에 대한 직접성의 정도다. 알고리즘은 직접 단계별 방법을 알려주지만 발견적 학습은 방법을 찾는 방법을 알려주거나 적어도 어디서 답을 찾을 수 있는지 알려준다. 소프트웨어에서 발견적 학습인 비유를 어떻게 사용할 것인가? 프로그래밍 문제와 프로세스를 이해하고 프로그래밍 활동에 대해 생각하고 더 나은 작업 수행 방법을 생각해내는 데 도움을 받아라. 즉, 비유는 소프트웨어 개발 프로세스를 이미 알고 있는 다른 활동과 관련 지음으로써 그것을 이해하는 데 도움을 준다.

### 3장 : 준비는 철저하게: 선행 조건

* 구현을 준비할 때 가장 중요한 목표는 위험을 줄이는 것이다. 구현 선행 조건은 문제 정의, 요구사항 개발, 아키텍쳐 설계 단계로 이루어진다. 
 
* 프로젝트 종류가 순차적으로 진행하느냐, 반복적으로 진행하느냐에 따라 구현 선행 조건에 영향을 끼친다. 예를 들어, 얼마나 구현 선행 조건에 시간을 쏟아야 하는가.

* 각각의 구현 선행 조건 단계가 잘 이루어지지 않으면 시간이나 금전적인 비용이 더 들게 되므로 제대로 이루어져야한다.

### 4장 : 구현 시 결정해야할 핵심 사항

* 구현은 반드시 아키텍처와 일관성을 유지해야 하며 내부적으로도 일관성을 유지해야 한다. 예를 들어, 변수와 클래스, 루틴 이름들이나 가이드라인 등.

* 모든 프로그래밍 언어에는 장단점이 있고 사용하는 언어의 장단점을 알아야한다.

* 사용하는 프로그래밍 방법이 언어를 사용하기 위한 것인지 아니면 언어에 의해서 제어 당하고 있는 지를 스스로 물어보라. 언어에 의한 프로그래밍이 아닌 언어를 활용한 프로그래밍이 중요하다는 점을 명심해라.

## 2부 : 고품질 코드 작성

### 5장 : 구현 설계

* 복잡성 관리의 중요성 : 한번에 한부분을 집중할 수 있는 프로그램을 구성하도록 노력하라. 

* 바람직한 설계 :
  + 간단하고 이해하기 쉬운 설계를 만들어라.
  + 프로그램의 각 부분 사이의 연결을 최소화하라.(추상화, 캡슐화, 정보 은닉)
  + 내부 구조를 해치지 않고 시스템 기능을 개선할 수 있게 하라.
  + 현재 시스템의 일부를 다른 시스템에 사용할 수 있게 하라.
  + 오래되고 잘못 설계된 코드가 많은 시스템을 개발해야 한다면 이전 코드와 조화를 이룰 수 있는 계층을 구성하라.
  + 표준화되고 일반적인 접근 방법을 사용해 전체 시스템이 친숙하게 느껴지도록 만들어라.

* 설계 수준 및 단계 :
 1. 소프트웨어 시스템
 2. 서브시스템이나 패키지로 분할:
  + 상호 연결관계를 이해하고 유지하기 쉽게 하려면 내부 서브시스템의 관계를 간단하게 만든다. 가장 간단한 관계는 루틴을 호출하는것이고, 가장 복잡한 관계는 클래스를 상속받는 경우다.
  + 순환 관계가 없어야 한다.
  + 흔한 공통 서브시스템
    - 비즈니스 규칙 : 컴퓨터 시스템에 입력하는 법륙과 규칙, 정책, 절차
    - 사용자 인터페이스
    - 데이터베이스 접근 : 데이터베이스 연산을 한곳에 집중시키고, 데이터를 다룰 때의 오류 발생 가능성을 줄인다.
    - 시스템 의존성 : 운영체제에 대한 의존성을 서브시스템으로 패키지화한다.
 3. 클래스로 분할:
  + 각 클래스가 시스템의 나머지 부분과 상호작용하는 방법에 대한 세부적인 사항도 클래스에 명시되어야 한다.
  + 객체와 클래스의 차이 : 객체는 클래스의 구체적 인스턴스이고, 비유를 하자면 객체는 소프트웨어 세계에 구현할 대상이고 클래스는 객체를 만들어내기 위한 설계도 혹은 틀이며 인스턴스는 설계도를 바탕으로 소프트웨어 세계에 구현된 구체적인 실체이다.
* 설계에는 정답이 없으므로 좋은 소프트웨어 설계를 위해서 발견적 학습을 효과적으로 적용해야 한다.
  + 현실 세계의 객체를 찾아라
    - 객체 설계하는 단계 : 객체와 객체의 속성를 식별하고, 각 객체에 무엇을 할 수 있는지 결정하고, 각 객체가 다른 객체에 무엇을 할 수 있는지 결정하고, 각 객체에서 다른 객체에 보일 부분을 결정하고, 각 객체의 공개 인터페이스를 정의한다.
  + 일관성 있게 추상화하라
  + 구현 세부사항을 캡슐화하라
  + 상속이 설계를 단순화할 수 있을 때 상속하라
  + 비밀을 숨겨라(정보 은닉) - 감춰야하거나 자주 변하거나 오류가 일어날 수 있는 부분을 따로 빼서 감춰라. "무엇을 숨겨야 하지?"라고 질문하는 습관을 갖자.
  + 변경될 것 같은 영역을 찾아서 고립시켜라
    - 상태변수 사용 시 불린변수를 상태변수로 사용하지 말고 대신 열겨형을 사용하라. 변수에 직접 접근하지 말고 접근 루틴을 사용하라.
  + 결합을 느슨하게 유지하라
    - 모듈이란 클래스와 루틴을 가리키며, 모듈 사이의 연결은 될 수 있는 한 단순해야 하며, 다른 모듈에 의존하지 않는 모듈을 생성하려고 노력하라. 프로그램이 나무토막 하나라면 나무를 꺠알같이 쪼개도록 한다.
  + 일반적으로 널리 사용되는 디자인 패턴을 찾아라
  + 응집력을 강하게 하라 : 응집력이란 클래스에 있는 모든 루티이나 루틴에 있는 모든 코드가 얼마나 밀접하게 중심 목적을 지원하고 있는지 그 클래서가 얼마나 집중되어 있는지를 나타낸다.
  + 계층을 만들어라 - 계층을 이용하면 현재 다루고 있는 수준에만 집중할 수 있으며 세부 사항이 완전히 사라지는 것이 아니라 모든 것을 동시에 생각하는 대신 원할 때만 생각할 수 있도록 세부 사항을 다른 수준으로 옮기는 것 뿐이다.
  + 클래스 계약을 형식화하라 - 각 클래스의 인터페이스를 나머지 프로그램들과의 계약으로 생각한다.
    - 추상클래스와 인터페이스의 차이를 알아보자. 추상클래스는 비유하자면 미완성된 설계도이고 기존의 클래스에서 공통된 부분을 추상화하여 상속하는 클래스에게 구현을 강제화하며 부모 클래스로서 매서드의 동작을 구현하는 자식 클래스로 책임을 위임하고 공유의 목적이고 한개의 클래스에 여러 개를 사용할 수 없으며 상속을 받아서 기능을 확장시키는 데 목적이다. 반대로, 인터페이스는 비유하자면 밑그림만 있는 설계도 또는 뼈대이며 클래스가 아니고 한개의 클래스에 여러개를 사용할 수 있으며 구현 객체의 같은 동작을 보장하기 위한 목적이다.
  + 책임을 할당하라
  + 테스트가 가능하도록 설계하라
  + 실패를 피하라
  + 결합 시점을 의식적으로 선택하라
  + 제어 지점을 정하라
  + 주먹구구식 기법의 사용을 고려하라
  + 다이어그램을 그려라
  + 모듈화를 유지하라
  + 발견적 학습의 한 가지 접근 방법에 매달리지 마라
* 발견적 학습 방법이 아닌 경헙적 설계 방법
  + 설계를 되풀이할 때마다 전체 설계를 향상시킬 수 있고 처음으로 작성한 설계가 충분히 좋아 보여도 멈추지 말라
  + 프로그램을 서로 다른 관심 영역으로 나누고 각 부분을 개별적으로 처리하도록 하고 어떤 영역에서 막다른 길을 만난다면 반복하라
  + 하향식 설계와 상향식 설계는 상호보완적이며 상황에 맞춰 모두 사용하라
  + 적은 비용으로 문제를 해결할 수 있는 프로토타이핑을 이용하라. 제품 코드와 다른 언어로 프로토타이핑 코드를 작성하거나 이름에 prototype이라는 접두사를 붙이는 방법도 도움이 된다.
* 설계의 가장 큰 어료움은 어려워서 설계를 잘못했다고 알고 있을 때가 아니라 너무 쉬워서 설계할 필요가 없다고 생각하는 순간에 발생하는 경향이 있다.
* 설계 작업을 기록하라 : 코드 주석, 위키, 이메일, 디지털카메라, 설계 플립 차트, CRC 카드, UML 다이어 그램 들을 이용하라
